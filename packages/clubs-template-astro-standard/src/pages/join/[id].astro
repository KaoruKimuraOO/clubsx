---
import Layout from '@clubs/clubs-core/presentations/layouts/astro/Default.astro'

import JoinCheckout from '@clubs/clubs-core/presentations/components/vue/Join/JoinCheckout.vue'
import { tiers } from '@clubs/clubs-core/constants/tier'

export function getStaticPaths() {
  return tiers.map(({ id }) => ({ params: { id } }))
}

const { id } = Astro.params
const tier = tiers.find(({ id: _id }) => _id === id)
---

<Layout metaTitle='join checkout'>
  <JoinCheckout
    client:only
    amount={tier?.amount}
    destination={import.meta.env.PUBLIC_PROPERTY_ADDRESS}
  />
</Layout>
