---
import JoinCheckout from '@components/Join/JoinCheckout.vue'
import { tiers } from '@constants/tier'

export function getStaticPaths() {
  return tiers.map(({ id }) => ({ params: { id } }))
}

const { id } = Astro.params
const tier = tiers.find(({ id: _id }) => _id === id)

const { propertyAddress } = Astro.props
---

<JoinCheckout
  client:only
  amount={tier?.amount}
  destination={propertyAddress}
  currency={tier?.currency}
  page="JOIN"
/>
